# agent.md é‡æ„ â€” è¿›åº¦ç®¡ç†ï¼ˆç»ä»£ç éªŒè¯ç‰ˆï¼‰

> æ¯é¡¹ä»»åŠ¡å‡æ ‡æ³¨äº†å¯è¡Œæ€§å’ŒæŠ€æœ¯çº¦æŸã€‚æ ‡è®° âš ï¸ çš„ä»»åŠ¡å­˜åœ¨å·²çŸ¥é™åˆ¶ã€‚

## æ€»è§ˆ

| Phase | åç§° | å¯è¡Œæ€§ | çŠ¶æ€ | æ¶‰åŠæ–‡ä»¶ | çº¦æŸ |
|-------|------|--------|------|---------|------|
| 1 | agent.md ç”Ÿæˆä¸å‘å¸ƒ | âœ… å¯è¡Œ | âœ… å·²å®Œæˆ | æ–°å¢ 3ï¼Œä¿®æ”¹ 5 | éœ€è‡ªå®ç°æ–‡ä»¶è§£æ |
| 2 | è¯»å–è¿œç¨‹ agent.md | âœ… å¯è¡Œ | ğŸ”² æœªå¼€å§‹ | æ–°å¢ 2ï¼Œä¿®æ”¹ 1 | éœ€ç¡®è®¤ URL ç«¯ç‚¹ |
| 3 | è”ç³»äººç®¡ç† | âœ… å¯è¡Œ | ğŸ”² æœªå¼€å§‹ | æ–°å¢ 1ï¼Œä¿®æ”¹ 3 | æ—  |
| 4 | ä¿¡ç”¨è¯„çº§ä½“ç³» | âš ï¸ éƒ¨åˆ†å¯è¡Œ | ğŸ”² æœªå¼€å§‹ | æ–°å¢ 1ï¼Œä¿®æ”¹ 2 | AI è‡ªåŠ¨è¯„ä¼°ä¸å¯è¡Œ |
| 5 | æ’ä»¶é’©å­é›†æˆ | âœ… å¯è¡Œ | ğŸ”² æœªå¼€å§‹ | ä¿®æ”¹ 1 | æ—  |

**çŠ¶æ€å›¾ä¾‹**ï¼šğŸ”² æœªå¼€å§‹ | ğŸ”µ è¿›è¡Œä¸­ | âœ… å·²å®Œæˆ | â¸ï¸ æš‚åœ | âŒ å·²å–æ¶ˆ

---

## å‰ç½®æ¡ä»¶ï¼šå·²éªŒè¯çš„æŠ€æœ¯äº‹å®

åœ¨å¼€å§‹ä»»ä½• Phase ä¹‹å‰ï¼Œä»¥ä¸‹äº‹å®å·²é€šè¿‡ä»£ç å®¡æŸ¥ç¡®è®¤ï¼š

| äº‹å® | éªŒè¯æ¥æº | ç»“è®º |
|------|---------|------|
| `api.on()` æ”¯æŒ 14 ç§é’©å­ | `openclaw/src/plugins/types.ts:267-301` | âœ… å¯ç”¨ï¼Œå½“å‰æœªä½¿ç”¨ |
| `api.registerTool()` å­˜åœ¨ | `openclaw/src/plugins/types.ts:243` | âœ… å¯ç”¨ï¼Œå½“å‰æœªä½¿ç”¨ |
| `api.registerCommand()` å­˜åœ¨ | `openclaw/src/plugins/types.ts:264` | âœ… å¯ç”¨ï¼Œå½“å‰æœªä½¿ç”¨ |
| `before_agent_start` ä¸Šä¸‹æ–‡å« `workspaceDir` | `openclaw/src/plugins/types.ts:304-309` | âœ… å¯è·å– workspace è·¯å¾„ |
| Workspace 6 ä¸ªæ ¸å¿ƒæ–‡ä»¶å‡å­˜åœ¨ | æ–‡ä»¶ç³»ç»Ÿæ‰«æ `~/.openclaw/workspace/` | âœ… IDENTITY/SOUL/AGENTS/TOOLS/HEARTBEAT/USER |
| `loadWorkspaceBootstrapFiles()` æœªæš´éœ²ç»™æ’ä»¶ | `openclaw/src/plugins/runtime/types.ts` | âŒ éœ€è‡ªè¡Œè¯»æ–‡ä»¶ |
| `parseIdentityMarkdown()` æœªæš´éœ²ç»™æ’ä»¶ | åŒä¸Š | âŒ éœ€è‡ªè¡Œå®ç°è§£æ |
| `buildWorkspaceSkillsPrompt()` æœªæš´éœ²ç»™æ’ä»¶ | åŒä¸Š | âŒ éœ€è‡ªè¡Œæ‰«æ skills ç›®å½• |
| acp-ts ä¸æä¾›è¿œç¨‹ agent.md è·å– | `acp-ts/dist/index.d.ts` | âŒ éœ€è‡ªè¡Œ HTTP GET |
| Node.js 22+ å†…ç½® fetch | `package.json` engines >=22.12.0 | âœ… æ— éœ€é¢å¤–ä¾èµ– |

---

## Phase 1ï¼šagent.md è‡ªåŠ¨ç”Ÿæˆä¸å‘å¸ƒ

### ä»»åŠ¡æ¸…å•

| # | ä»»åŠ¡ | çŠ¶æ€ | è´Ÿè´£æ–‡ä»¶ | å¯è¡Œæ€§ | å¤‡æ³¨ |
|---|------|------|---------|--------|------|
| 1.1 | å®šä¹‰ `AgentMdSources`ã€`ParsedIdentity`ã€`SanitizedUserInfo` æ¥å£ | âœ… | `src/agent-md-builder.ts` (æ–°å¢) | âœ… | åˆå¹¶è®¾è®¡æ–‡æ¡£ 5.2/14.2 èŠ‚ |
| 1.2 | æ–°å¢ `workspaceDir` é…ç½®å­—æ®µ | âœ… | `src/types.ts` + `src/config-schema.ts` | âœ… | |
| 1.3 | æ–°å¢ `src/workspace.ts` å…¨å±€çŠ¶æ€ç®¡ç† | âœ… | `src/workspace.ts` (æ–°å¢) | âœ… | å« `~/.openclaw/workspace` è‡ªåŠ¨æ¢æµ‹ |
| 1.4 | å®ç° workspace æ–‡ä»¶ç›´æ¥è¯»å– | âœ… | `src/agent-md-sources.ts` (æ–°å¢) | âœ… | ç”¨ `fs.readFileSync`ï¼Œä¸ä¾èµ– OpenClaw å†…éƒ¨å‡½æ•° |
| 1.5 | è‡ªå®ç° IDENTITY.md è§£æï¼ˆ`parseIdentity`ï¼‰ | âœ… | `src/agent-md-builder.ts` | âœ… | æå– name/emoji/creature/vibe å››ä¸ªå­—æ®µ |
| 1.6 | è‡ªå®ç° USER.md è„±æ•ï¼ˆ`sanitizeUserMd`ï¼‰ | âœ… | `src/agent-md-builder.ts` | âœ… | è¿”å› `SanitizedUserInfo`ï¼Œæå– timezone + language |
| 1.7 | âš ï¸ æ‰«æ workspace/skills ç›®å½• | âœ… | `src/agent-md-sources.ts` | âš ï¸ | ç›®å½•ä¸å­˜åœ¨æ—¶æ­£ç¡®è¿”å› undefined |
| 1.8 | æå– TOOLS.md å·¥å…·æ¸…å• | âœ… | `src/agent-md-builder.ts` | âœ… | æ¨¡æ¿/ç¤ºä¾‹å†…å®¹æ­£ç¡®è·³è¿‡ |
| 1.9 | å®ç° agent.md ç»„è£… `buildAgentMd()` | âœ… | `src/agent-md-builder.ts` | âœ… | YAML frontmatter + Markdown æ­£æ–‡ï¼Œç¬¦åˆ SCHEMA v1.0.0 |
| 1.10 | å®ç°å¤šæ¥æºå“ˆå¸Œ `computeSourcesHash()` | âœ… | `src/agent-md-builder.ts` | âœ… | |
| 1.11 | ç§»é™¤ `GroupSystemPrompt` æ³¨å…¥ | âœ… | `src/monitor.ts` | âœ… | |
| 1.12 | æ›¿æ¢ `checkAndUploadAgentMd()` | âœ… | `src/monitor.ts` | âœ… | workspace æ¨¡å¼ + é™æ€æ–‡ä»¶å›é€€ï¼Œå·²å¯¼å‡ºä¾›é’©å­è°ƒç”¨ |
| 1.13 | åœ¨ `index.ts` æ³¨å†Œ `before_agent_start` é’©å­ | âœ… | `index.ts` | âœ… | ä» `ctx.workspaceDir` è·å–è·¯å¾„ |
| 1.14 | å…¼å®¹æ€§ï¼šæ—  workspaceDir æ—¶å›é€€é™æ€æ–‡ä»¶ | âœ… | `src/monitor.ts` | âœ… | |
| 1.15 | æ¸…ç†ä¸å†éœ€è¦çš„å‡½æ•° | âœ… | `src/monitor.ts` | âœ… | `loadAgentMdContent()` åŠç¼“å­˜å˜é‡å·²ç§»é™¤ |
| 1.16 | æ„å»ºéªŒè¯ï¼š`npx tsc --noEmit` | âœ… | | âœ… | æ— æ–°å¢ç±»å‹é”™è¯¯ |
| 1.17 | æµ‹è¯•ï¼šç”Ÿæˆå†…å®¹æ ¼å¼éªŒè¯ | âœ… | `test/test-agent-md.ts` | âœ… | æœ¬åœ°æµ‹è¯• + ç«¯åˆ°ç«¯ä¸Šä¼ éªŒè¯å‡é€šè¿‡ |

### éªŒæ”¶æ ‡å‡†

- [x] `buildAgentMd()` ä» workspace æ–‡ä»¶ç”Ÿæˆ YAML frontmatter + Markdown æ­£æ–‡æ ¼å¼åç‰‡
- [x] åç‰‡ç¬¦åˆ agent.md SCHEMA v1.0.0ï¼ˆaid/name/type/version/description/tagsï¼‰
- [x] æ­£æ–‡åŒ…å«æ ‡é¢˜ã€ç®€ä»‹ã€èƒ½åŠ›ã€å…´è¶£æ–¹å‘ã€é™åˆ¶ç­‰æ®µè½
- [x] æ¥æºæ–‡ä»¶å˜åŒ–æ—¶é€šè¿‡ `before_agent_start` é’©å­è‡ªåŠ¨æ£€æµ‹å¹¶é‡æ–°ä¸Šä¼ 
- [x] å†·å¯åŠ¨æ—¶åœ¨ `connectOnce()` ä¸­å…¨é‡åŒæ­¥ï¼ˆworkspace è‡ªåŠ¨æ¢æµ‹ `~/.openclaw/workspace`ï¼‰
- [x] ç§»é™¤ GroupSystemPrompt æ³¨å…¥
- [x] USER.md è„±æ•ï¼šåªæš´éœ² timezone å’Œ language
- [x] TOOLS.md æ¨¡æ¿/ç¤ºä¾‹å†…å®¹æ­£ç¡®è·³è¿‡
- [x] æœªé…ç½® workspaceDir æ—¶å›é€€åˆ°é™æ€æ–‡ä»¶æ¨¡å¼
- [x] `npx tsc --noEmit` æ— æ–°å¢ç±»å‹é”™è¯¯
- [x] è¾“å‡ºå¤§å° 1364 bytesï¼Œåœ¨ 4KB é™åˆ¶å†…
- [x] ç«¯åˆ°ç«¯éªŒè¯ï¼šgateway å¯åŠ¨ â†’ è‡ªåŠ¨ç”Ÿæˆ â†’ ä¸Šä¼ æˆåŠŸ â†’ `curl` ç¡®è®¤çº¿ä¸Šå†…å®¹æ­£ç¡®

### âš ï¸ å·²çŸ¥é™åˆ¶

- æŠ€èƒ½åˆ—è¡¨åªåŒ…å« workspace/skills ä¸‹çš„æŠ€èƒ½ï¼Œä¸å« bundled/managed æŠ€èƒ½
- IDENTITY.md è§£ææ˜¯ç®€åŒ–ç‰ˆï¼Œå¯èƒ½ä¸ OpenClaw å†…éƒ¨çš„ `parseIdentityMarkdown()` è¡Œä¸ºæœ‰ç»†å¾®å·®å¼‚
- TOOLS.md æå–æ˜¯ç®€åŒ–ç‰ˆï¼Œåªå–å·¥å…·åç§°åˆ—è¡¨

---

## Phase 2ï¼šè¯»å–å…¶ä»– Agent çš„ agent.md

### ä»»åŠ¡æ¸…å•

| # | ä»»åŠ¡ | çŠ¶æ€ | è´Ÿè´£æ–‡ä»¶ | å¯è¡Œæ€§ | å¤‡æ³¨ |
|---|------|------|---------|--------|------|
| 2.1 | å®šä¹‰ `RemoteAgentMd` å’Œ `ParsedAgentMd` ç±»å‹ | ğŸ”² | `src/types.ts` | âœ… | |
| 2.2 | å®ç° agent.md Markdown è§£æå™¨ | ğŸ”² | `src/agent-md-parser.ts` (æ–°å¢) | âœ… | é’ˆå¯¹å›ºå®šæ®µè½æ ¼å¼ |
| 2.3 | å®ç° `AgentMdFetcher` ç±» | ğŸ”² | `src/agent-md-fetcher.ts` (æ–°å¢) | âœ… | ç”¨ Node å†…ç½® fetch |
| 2.4 | ~~ç¡®è®¤è¿œç¨‹ agent.md URL ç«¯ç‚¹æ ¼å¼~~ | âœ… | | âœ… | å·²ç¡®è®¤ï¼š`https://{aid}/agent.md`ï¼ŒPhase 1 ä¸Šä¼ å curl éªŒè¯é€šè¿‡ |
| 2.5 | å†…å­˜ç¼“å­˜ + æ–‡ä»¶æŒä¹…åŒ– | ğŸ”² | `src/agent-md-fetcher.ts` | âœ… | `~/.acp-storage/remote-agent-md/` |
| 2.6 | é›†æˆåˆ° `handleInboundMessage()` | ğŸ”² | `src/monitor.ts` | âœ… | é¦–æ¬¡æ”¶åˆ°æ–° AID æ—¶è·å– |
| 2.7 | æµ‹è¯•ï¼šè·å–ã€è§£æã€ç¼“å­˜æµç¨‹ | ğŸ”² | | âœ… | |

### éªŒæ”¶æ ‡å‡†

- [ ] èƒ½é€šè¿‡ AID è·å–è¿œç¨‹ agent.md å¹¶è§£æä¸ºç»“æ„åŒ–æ•°æ®
- [ ] ç¼“å­˜æ­£å¸¸å·¥ä½œï¼ˆå‘½ä¸­ã€24h è¿‡æœŸã€å¼ºåˆ¶åˆ·æ–°ï¼‰
- [ ] è·å–å¤±è´¥æ—¶é™çº§å¤„ç†ï¼Œä¸é˜»å¡æ¶ˆæ¯æµç¨‹

### âš ï¸ å·²çŸ¥é™åˆ¶

- acp-ts ä¸æä¾›è·å–è¿œç¨‹ agent.md çš„ APIï¼Œéœ€è‡ªè¡Œ HTTP GET
- ~~URL æ ¼å¼ `https://{aid}/agent.md` éœ€è¦ä¸ ACP æœåŠ¡ç«¯ç¡®è®¤æ˜¯å¦æ­£ç¡®~~ â†’ å·²ç¡®è®¤å¯ç”¨
- å¦‚æœ ACP ç½‘ç»œéœ€è¦ç­¾åè®¤è¯æ‰èƒ½è·å–ï¼Œåˆ™éœ€è¦é¢å¤–çš„è®¤è¯é€»è¾‘

---

## Phase 3ï¼šè”ç³»äººç®¡ç†

### ä»»åŠ¡æ¸…å•

| # | ä»»åŠ¡ | çŠ¶æ€ | è´Ÿè´£æ–‡ä»¶ | å¯è¡Œæ€§ | å¤‡æ³¨ |
|---|------|------|---------|--------|------|
| 3.1 | å®šä¹‰ `Contact` æ¥å£å’Œå­˜å‚¨æ ¼å¼ | ğŸ”² | `src/types.ts` | âœ… | |
| 3.2 | å®ç° `ContactManager` ç±» | ğŸ”² | `src/contacts.ts` (æ–°å¢) | âœ… | CRUD + åˆ†ç»„ |
| 3.3 | å®ç°æœ¬åœ° JSON æŒä¹…åŒ–ï¼ˆåŸå­å†™å…¥ï¼‰ | ğŸ”² | `src/contacts.ts` | âœ… | `~/.acp-storage/contacts.json` |
| 3.4 | æ³¨å†Œ `acp-contacts` å‘½ä»¤ | ğŸ”² | `src/index.ts` | âœ… | ç”¨ `api.registerCommand()` |
| 3.5 | æ³¨å†Œ `acpManageContactsTool` å·¥å…· | ğŸ”² | `src/index.ts` | âœ… | ç”¨ `api.registerTool()` |
| 3.6 | æ–°å¢è”ç³»äººç®¡ç† action | ğŸ”² | `src/actions.ts` + `src/channel.ts` | âœ… | |
| 3.7 | é¦–æ¬¡äº¤äº’æ—¶è‡ªåŠ¨æ·»åŠ è”ç³»äºº | ğŸ”² | `src/monitor.ts` | âœ… | å¯é…ç½®å¼€å…³ |
| 3.8 | æµ‹è¯•ï¼šCRUDã€åˆ†ç»„ã€æŒä¹…åŒ– | ğŸ”² | | âœ… | |

### éªŒæ”¶æ ‡å‡†

- [ ] è”ç³»äººå¢åˆ æ”¹æŸ¥æ­£å¸¸
- [ ] è‡ªå®šä¹‰åˆ†ç»„åŠŸèƒ½æ­£å¸¸ï¼ˆä¸€ä¸ªè”ç³»äººå¯å±äºå¤šä¸ªåˆ†ç»„ï¼‰
- [ ] æ•°æ®æŒä¹…åŒ–åˆ°æœ¬åœ°æ–‡ä»¶ï¼Œé‡å¯åä¸ä¸¢å¤±
- [ ] é€šè¿‡å‘½ä»¤å’Œå·¥å…·å‡å¯ç®¡ç†è”ç³»äºº

---

## Phase 4ï¼šä¿¡ç”¨è¯„çº§ä½“ç³»

### ä»»åŠ¡æ¸…å•

| # | ä»»åŠ¡ | çŠ¶æ€ | è´Ÿè´£æ–‡ä»¶ | å¯è¡Œæ€§ | å¤‡æ³¨ |
|---|------|------|---------|--------|------|
| 4.1 | å®šä¹‰ `CreditDelta` å’Œ `CreditConfig` ç±»å‹ | ğŸ”² | `src/types.ts` | âœ… | |
| 4.2 | å®ç°ä¿¡ç”¨è¯„åˆ†è®¡ç®— | ğŸ”² | `src/credit.ts` (æ–°å¢) | âœ… | |
| 4.3 | é›†æˆåˆ° `ContactManager` | ğŸ”² | `src/contacts.ts` | âœ… | |
| 4.4 | æ³¨å†Œ `session_end` é’©å­è®°å½•äº¤äº’ç»Ÿè®¡ | ğŸ”² | `src/index.ts` | âœ… | å®¢è§‚æŒ‡æ ‡ï¼šè½®æ¬¡ã€æ—¶é•¿ |
| 4.5 | âŒ AI è‡ªåŠ¨è¯„ä¼°å›ç­”è´¨é‡ | ğŸ”² | | âŒ ä¸å¯è¡Œ | Channel å±‚æ— æ³•è°ƒç”¨ AI |
| 4.6 | âŒ AI è‡ªåŠ¨æ£€æŸ¥èƒ½åŠ›ä¸€è‡´æ€§ | ğŸ”² | | âŒ ä¸å¯è¡Œ | åŒä¸Š |
| 4.7 | ä¸»äººæ‰‹åŠ¨è®¾ç½®ä¿¡ç”¨ï¼ˆå‘½ä»¤ + actionï¼‰ | ğŸ”² | `src/actions.ts` | âœ… | |
| 4.8 | ä¿¡ç”¨ç­‰çº§å½±å“äº¤äº’å†³ç­– | ğŸ”² | `src/monitor.ts` | âœ… | |
| 4.9 | æµ‹è¯•ï¼šè¯„åˆ†è®¡ç®—ã€æ‰‹åŠ¨è¦†ç›– | ğŸ”² | | âœ… | |

### éªŒæ”¶æ ‡å‡†

- [ ] ä¿¡ç”¨è¯„åˆ†åœ¨ 0-100 èŒƒå›´å†…æ­£ç¡®è®¡ç®—
- [ ] `session_end` é’©å­è‡ªåŠ¨è®°å½•äº¤äº’æ¬¡æ•°ã€æ—¶é•¿ç­‰å®¢è§‚æŒ‡æ ‡
- [ ] ä¸»äººå¯æ‰‹åŠ¨è¦†ç›–è¯„åˆ†
- [ ] æä½ä¿¡ç”¨çš„ Agent è¢«æ‹’ç»äº¤äº’æˆ–éœ€ä¸»äººç¡®è®¤

### âš ï¸ å·²çŸ¥é™åˆ¶ï¼ˆé‡è¦ï¼‰

åŸè®¾è®¡æ–‡æ¡£ä¸­çš„ä»¥ä¸‹è¯„åˆ†ç»´åº¦**åœ¨å½“å‰æ¶æ„ä¸‹æ— æ³•å®ç°**ï¼š

| è¯„åˆ†ç»´åº¦ | åŸè®¾è®¡ | ç°å® | åŸå›  |
|---------|--------|------|------|
| å›ç­”è´¨é‡è¯„ä¼° | AI è‡ªåŠ¨è¯„åˆ† | âŒ ä¸å¯è¡Œ | Channel å±‚æ’ä»¶æ— æ³•è°ƒç”¨ AI |
| èƒ½åŠ›ä¸€è‡´æ€§æ£€æŸ¥ | AI å¯¹æ¯” agent.md ä¸å®é™…è¡¨ç° | âŒ ä¸å¯è¡Œ | åŒä¸Š |
| äº¤æµæ„‰æ‚¦åº¦ | AI ä¸»è§‚è¯„åˆ† | âŒ ä¸å¯è¡Œ | åŒä¸Š |
| äº¤äº’é¢‘æ¬¡ | è‡ªåŠ¨ç»Ÿè®¡ | âœ… å¯è¡Œ | `session_end` é’©å­å¯è®°å½• |
| ä¸»äººæ‰‹åŠ¨è®¾ç½® | æ‰‹åŠ¨è¦†ç›– | âœ… å¯è¡Œ | é€šè¿‡å‘½ä»¤/action |

**åŠ¡å®æ–¹æ¡ˆ**ï¼šPhase 4 å…ˆå®ç°å®¢è§‚æŒ‡æ ‡ï¼ˆäº¤äº’æ¬¡æ•°ã€é¢‘ç‡ã€æ—¶é•¿ï¼‰+ ä¸»äººæ‰‹åŠ¨è¯„åˆ†ã€‚
AI è‡ªåŠ¨è¯„ä¼°éœ€è¦ OpenClaw æä¾›"åœ¨é’©å­ä¸­è°ƒç”¨ AI"çš„èƒ½åŠ›åæ‰èƒ½å®ç°ã€‚

---

## Phase 5ï¼šæ’ä»¶é’©å­é›†æˆ

### ä»»åŠ¡æ¸…å•

| # | ä»»åŠ¡ | çŠ¶æ€ | è´Ÿè´£æ–‡ä»¶ | å¯è¡Œæ€§ | å¤‡æ³¨ |
|---|------|------|---------|--------|------|
| 5.1 | ~~æ³¨å†Œ `gateway_start` é’©å­~~ | â¸ï¸ | `index.ts` | âœ… | Phase 1 æš‚ä¸æ³¨å†Œï¼Œå†·å¯åŠ¨åŒæ­¥å·²åœ¨ connectOnce ä¸­ |
| 5.2 | æ³¨å†Œ `gateway_stop` é’©å­ | ğŸ”² | `index.ts` | âœ… | æ ‡è®°ç¦»çº¿ |
| 5.3 | ~~æ³¨å†Œ `before_agent_start` é’©å­~~ | âœ… | `index.ts` | âœ… | å·²åœ¨ Phase 1 å®Œæˆï¼ˆä»»åŠ¡ 1.13ï¼‰ |
| 5.4 | æ³¨å†Œ `session_end` é’©å­ | ğŸ”² | `index.ts` | âœ… | æ›´æ–°äº¤äº’ç»Ÿè®¡ï¼ˆPhase 4 ä¾èµ–ï¼‰ |
| 5.5 | æ³¨å†Œ `acpFetchAgentMdTool` å·¥å…· | ğŸ”² | `index.ts` | âœ… | ç”¨ `api.registerTool()`ï¼ˆPhase 2 ä¾èµ–ï¼‰ |
| 5.6 | æ³¨å†Œ `acpManageContactsTool` å·¥å…· | ğŸ”² | `index.ts` | âœ… | ç”¨ `api.registerTool()`ï¼ˆPhase 3 ä¾èµ–ï¼‰ |
| 5.7 | æ³¨å†Œ `acp-sync` å‘½ä»¤ | ğŸ”² | `index.ts` | âœ… | ç”¨ `api.registerCommand()` |
| 5.8 | æ³¨å†Œ `acp-contacts` å‘½ä»¤ | ğŸ”² | `index.ts` | âœ… | ç”¨ `api.registerCommand()`ï¼ˆPhase 3 ä¾èµ–ï¼‰ |
| 5.9 | ç«¯åˆ°ç«¯æµ‹è¯• | ğŸ”² | | âœ… | |

### éªŒæ”¶æ ‡å‡†

- [ ] å„é’©å­åœ¨æ­£ç¡®æ—¶æœºè§¦å‘
- [ ] Agent å¯é€šè¿‡å·¥å…·è°ƒç”¨è·å–å…¶ä»– Agent çš„ agent.md
- [ ] Agent å¯é€šè¿‡å·¥å…·è°ƒç”¨ç®¡ç†è”ç³»äºº
- [ ] ç”¨æˆ·å¯é€šè¿‡ `/acp-sync` å’Œ `/acp-contacts` å‘½ä»¤æ“ä½œ

---

## ä¾èµ–å…³ç³»

```
Phase 5 (é’©å­æ³¨å†Œ) â†â”€â”€ åº”æå‰åˆ° Phase 1 åŒæ­¥è¿›è¡Œ
    â”‚
    â–¼
Phase 1 (agent.md ç”Ÿæˆ) â†â”€â”€ åŸºç¡€ï¼Œå¿…é¡»å…ˆå®Œæˆ
    â”‚
    â–¼
Phase 2 (è¯»å–è¿œç¨‹ agent.md) â†â”€â”€ ä¾èµ– Phase 1 çš„åç‰‡æ ¼å¼å®šä¹‰
    â”‚
    â–¼
Phase 3 (è”ç³»äººç®¡ç†) â†â”€â”€ å¯ä¸ Phase 2 å¹¶è¡Œ
    â”‚
    â–¼
Phase 4 (ä¿¡ç”¨è¯„çº§) â†â”€â”€ ä¾èµ– Phase 3 çš„ ContactManager
```

**ä¿®æ­£è¯´æ˜**ï¼šåŸæ–¹æ¡ˆå°† Phase 5 æ”¾åœ¨æœ€åï¼Œä½†å®é™…ä¸Šé’©å­æ³¨å†Œï¼ˆ`api.on()`ï¼‰åº”åœ¨
Phase 1 å°±å¼€å§‹ï¼Œå› ä¸º `before_agent_start` é’©å­æ˜¯è·å– workspaceDir çš„å…³é”®é€”å¾„ã€‚
Phase 5 çš„ä»»åŠ¡åº”åˆ†æ•£åˆ°å„ Phase ä¸­ï¼Œè€Œéç‹¬ç«‹å­˜åœ¨ã€‚

---

## å˜æ›´æ—¥å¿—

| æ—¥æœŸ | å˜æ›´å†…å®¹ |
|------|---------|
| 2026-02-07 | åˆ›å»ºé‡æ„è¿›åº¦æ–‡æ¡£ï¼Œè§„åˆ’ 5 ä¸ª Phase |
| 2026-02-07 | ç»ä»£ç éªŒè¯åä¿®æ­£ï¼šæ ‡æ³¨å¯è¡Œæ€§ã€å·²çŸ¥é™åˆ¶ã€ä¿®æ­£ä¾èµ–å…³ç³» |
| 2026-02-07 | åˆå¹¶è®¾è®¡æ–‡æ¡£æ–°å¢å†…å®¹ï¼šUSER.md æå– languageã€Basic Info å¢åŠ  Type/Styleã€çº³å…¥ Skills å’Œ Tools æ®µè½ã€æ–°å¢ workspace.tsã€æ›´æ–°éªŒæ”¶æ ‡å‡† |
| 2026-02-07 | **Phase 1 å®Œæˆ**ï¼šå…¨éƒ¨ 17 é¡¹ä»»åŠ¡å®Œæˆï¼Œè¾“å‡ºæ ¼å¼æ”¹ä¸º YAML frontmatter + Markdownï¼ˆç¬¦åˆ SCHEMA v1.0.0ï¼‰ï¼Œworkspace è‡ªåŠ¨æ¢æµ‹ï¼Œç«¯åˆ°ç«¯éªŒè¯é€šè¿‡ï¼ˆgateway å¯åŠ¨ â†’ ç”Ÿæˆ â†’ ä¸Šä¼  â†’ curl ç¡®è®¤ï¼‰ |
