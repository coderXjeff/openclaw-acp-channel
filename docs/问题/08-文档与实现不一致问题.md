# 问题 08：文档与实现不一致

## 1. 问题描述

README 文档描述与实际依赖/实现存在偏差，主要体现在协议库名称上，容易导致安装、排障和二次开发时认知错误。

## 2. 问题代码位置

- `README.md:1`：标题写 `acp-ws 版本`
- `README.md:3`：描述“使用 `acp-ws` 库”
- `README.md:147`：依赖列出 `acp-ws`
- `package.json:21`：实际依赖为 `acp-ts`
- `src/acp-client.ts:5`：实际 import `AgentManager, HeartbeatClient` from `acp-ts`
- `src/node-polyfill.ts:3`：注释仍写“required by acp-ws”

## 3. 可能影响

- 新接手同学按文档安装错误依赖，导致无法运行。
- 排障时搜索错误关键词（`acp-ws`），定位效率下降。
- 对外沟通与版本管理出现歧义，影响协作信任。

## 4. 修复方案

### 方案 A（推荐）：文档统一到当前实现

1. README 全量替换为 `acp-ts` 术语。
2. 更新架构图、依赖列表、变更日志中的库名。
3. 修正 `node-polyfill.ts` 注释描述。
4. 在 README 增加“历史说明”：曾从桥接方案迁移。

### 方案 B：兼容说明

- 若确有双实现计划，文档明确“当前默认实现=acp-ts，acp-ws 已废弃/实验态”。

## 5. 验证建议

- 以 README 为唯一操作手册，在干净环境按步骤执行一次安装验证。
- 增加文档检查清单：依赖名需与 `package.json`、代码 import 一致。

